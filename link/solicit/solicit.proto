syntax = "proto3";
package link.solicit;

// SolicitProtocolRequest is the directive request for protocol solicitation.
message SolicitProtocolRequest {
  // ProtocolId is the protocol ID to solicit.
  string protocol_id = 1;
  // Context is opaque context bytes for the solicitation.
  // Different contexts produce different hashes (no match).
  bytes context = 2;
  // PeerId constrains solicitation to a specific peer.
  // If empty, solicits on all active links.
  string peer_id = 3;
  // TransportId constrains solicitation to a specific transport.
  // If 0, solicits on all transports.
  uint64 transport_id = 4;
}

// SolicitationExchange is sent on the control stream.
// Full hash set, re-sent each time the local set changes.
message SolicitationExchange {
  // ProtocolHashes contains sorted BLAKE3 hashes.
  // Each hash is 32 bytes.
  // Max 256 entries.
  repeated bytes protocol_hashes = 1;
}
