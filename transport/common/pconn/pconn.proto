syntax = "proto3";
package pconn;

// KCPMode is the mode to set KCP to.
enum KCPMode {
  // KCPMode_UNKNOWN defaults to normal mode.
  KCPMode_UNKNOWN = 0;
  // KCPMode_NORMAL is the normal mode.
  // NoDelay = 0
  // Interval = 40
  // Resend = 2
  // NoCongestion = 1
  KCPMode_NORMAL = 1;
  // KCPMode_FAST is the "fast" mode.
  // NoDelay = 0
  // Interval = 30
  // Resend = 2
  // NoCongestion = 1
  KCPMode_FAST = 2;
  // KCPMode_FAST2 is the "fast2" mode.
  // NoDelay = 1
  // Interval = 20
  // Resend = 2
  // NoCongestion = 1
  KCPMode_FAST2 = 3;
  // KCPMode_FAST3 is the "fast3" mode.
  // NoDelay = 1
  // Interval = 10
  // Resend = 2
  // NoCongestion = 1
  KCPMode_FAST3 = 4;
  // KCPMode_SLOW1 is the slow 1 mode.
  // NoDelay = 0
  // Interval = 100
  // Resend = 0
  // NoCongestion = 0
  KCPMode_SLOW1 = 5;
}

// BlockCrypt sets the type of block crypto to use.
enum BlockCrypt {
  // BlockCrypt_UNKNOWN defaults to BlockCrypt_AES256
  BlockCrypt_UNKNOWN = 0;
  // BlockCrypt_AES256 is AES 256-bit block encryption.
  BlockCrypt_AES256 = 1;
  // BlockCrypt_AES128 is AES 128-bit block encryption.
  BlockCrypt_AES128 = 2;
  // BlockCrypt_AES192 is AES 192-bit block encryption.
  BlockCrypt_AES192 = 3;
  // BlockCrypt_SM4_16 is SM4 16-bit block encryption.
  BlockCrypt_SM4_16 = 4;
  // BlockCrypt_TEA16 is 16-bit TEA block encryption.
  BlockCrypt_TEA16 = 5;
  // BlockCrypt_XOR is simple XOR block encryption.
  BlockCrypt_XOR = 6;
  // BlockCrypt_NONE is unencrypted.
  BlockCrypt_NONE = 7;
  // BlockCrypt_BLOWFISH is blowfish 32-bit block encryption.
  BlockCrypt_BLOWFISH = 8;
  // BlockCrypt_TWOFISH is twofish 32-bit block encryption.
  BlockCrypt_TWOFISH = 9;
  // BlockCrypt_CAST5 is cast5 16bit block encryption.
  BlockCrypt_CAST5 = 10;
  // BlockCrypt_3DES is 3des 24-bit block encryption.
  BlockCrypt_3DES = 11;
  // BlockCrypt_XTEA is xtea 16-bit block encryption.
  BlockCrypt_XTEA = 12;
  // BlockCrypt_SALSA20 is salsa20 32-bit block encryption.
  BlockCrypt_SALSA20 = 13;
}

// Opts are extra options for the packet conn.
message Opts {
  // DataShards are the number of FEC data shards to use. By adding t check
  // symbols to the data, a Reed–Solomon code can detect any combination of up
  // to t erroneous symbols, or correct up to ⌊t/2⌋ symbols. As an erasure code,
  // it can correct up to t known erasures, or it can detect and correct
  // combinations of errors and erasures. Furthermore, Reed–Solomon codes are
  // suitable as multiple-burst bit-error correcting codes, since a sequence of
  // b + 1 consecutive bit errors can affect at most two symbols of size b. The
  // choice of t is up to the designer of the code, and may be selected within
  // wide limits. Maximum is 256.
  // Recommended: 10
  // If zero, FEC is disabled.
  uint32 data_shards = 1;
  // ParityShards are the number of FEC parity shards to use.
  // Recommended: 3
  uint32 parity_shards = 2;
  // Mtu is the maximum transmission unit to use.
  // Defaults to 1350 (UDP safe packet size).
  uint32 mtu = 3;
  // KcpMode is the KCP mode.
  KCPMode kcp_mode = 4;
  // BlockCrypt is the block crypto to use.
  // Defaults to AES256.
  // Uses the handshake-negotiated session key.
  BlockCrypt block_crypt = 5;
}
